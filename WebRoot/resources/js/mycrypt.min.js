Date.prototype.Format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,(RegExp.$1.length==1)?(c[b]):(("00"+c[b]).substr((""+c[b]).length)))}}return a};var secretKey=null;var myEncrypt=function(b,e){if(b==null){return null}if(typeof(e)==="undefined"||e==null){e=secretKey==null?"luowei":secretKey}var c=1;if(e!=null){for(var d=e.length-1;d>0;d--){c+=e.charCodeAt(d)}c=c%(e.length-1);c=c==0?1:c}var a="";for(var d=b.length-1;d>=0;d--){if(d==c){a+=c}if(b.charCodeAt(d)==0){a+=String.fromCharCode(127)}else{if(b.charCodeAt(d)==65){a+="Z"}else{if(b.charCodeAt(d)==97){a+="z"}else{if(b.charCodeAt(d)==48){a+="9"}else{a+=String.fromCharCode(b.charCodeAt(d)-1)}}}}}return a};var myDecrypt=function(b,e){if(b==null){return null}if(typeof(e)==="undefined"||e==null){e=secretKey==null?"luowei":secretKey}var c=1;if(e!=null){for(var d=e.length-1;d>0;d--){c+=e.charCodeAt(d)}c=c%(e.length-1);c=c==0?1:c}var a="";for(var d=b.length-1;d>=0;d--){if(d==(b.length-1-1-c)){continue}if(b.charCodeAt(d)==127){a+=String.fromCharCode(0)}if(b.charCodeAt(d)==57){a+="0"}else{if(b.charCodeAt(d)==90){a+="A"}else{if(b.charCodeAt(d)==122){a+="a"}else{a+=String.fromCharCode((b.charCodeAt(d)+1))}}}}return a};var jiami=function(a,b){if(a==null){return null}return myEncrypt(a+(new Date()).Format("yyyyMMdd"),b)};var jiemi=function(a,b){if(a==null){return null}return myDecrypt(a.substring(8),b)};